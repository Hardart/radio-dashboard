@use 'sass:color';

@mixin set-root-colors() {
  @each $color, $value in $colors {
    --#{$color}: #{_toHsl($value)};
  }
}

@mixin set-color($color, $percentage-mix: 0, $percentage-color: 0) {
  @if color.channel($color, 'lightness', $space: hsl) > 45% {
    color: tint($black, $percentage-color);
    background-color: shade($color, $percentage-mix);
  } @else {
    color: shade($white, $percentage-color);
    background-color: tint($color, $percentage-mix);
  }
}

@mixin color-scheme($name: light) {
  @media (prefers-color-scheme: #{$name}) {
    :root {
      @if $name == dark {
        --color-bg-lighter: #{_lighter(10)};
        --color-bg-light: #{_lighter(5)};
        --color-bg: #{_lighter()};

        --color-text-lighter: #{_darker()};
        --color-text-light: #{_darker(10)};
        --color-text: #{_darker(20)};
        --color-text-dark: #{_darker(40)};
        --color-text-darker: #{_darker(50)};

        --color-border: #{_lighter(10)};
      } @else {
        --color-bg-lighter: #{_darker(2)};
        --color-bg-light: #{_darker(5)};
        --color-bg: #{_darker(6)};

        --color-text-lighter: #{_lighter(60)};
        --color-text-light: #{_lighter(40)};
        --color-text: #{_lighter(20)};
        --color-text-dark: #{_lighter(10)};
        --color-text-darker: #{_lighter()};

        --color-border: #{_darker(15)};
      }
      @content;
    }
  }
}
